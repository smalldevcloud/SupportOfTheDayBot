# SupportOfTheDayBot

##### –ü—Ä–∏–º–µ—Ä —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–≥–æ –Ω–∞ swift. 
##### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç: –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ –∫–Ω–æ–ø–∫—É –≤ —á–∞—Ç–µ —Å –±–æ—Ç–æ–º –±–µ—Ä—ë—Ç —Å–ª—É—á–∞–π–Ω—É—é –∫–∞—Ä—Ç–∏–Ω–∫—É —Å http.cat –∏ –ø—Ä–∏–≤—è–∑–∞–≤ –∫ –Ω–µ–π —Ä–∞–Ω–¥–æ–º–Ω—É—é –ø–æ–¥–ø–∏—Å—å –∏–∑ –º–∞—Å—Å–∏–≤–∞ –ø–æ–¥–ø–∏—Å–µ–π, –∑–∞–¥–∞–Ω–Ω–æ–≥–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ, –æ—Ç—Å—ã–ª–∞–µ—Ç –≤ –ø–µ—Ä–µ–ø–∏—Å–∫—É —Å–æ–æ–±—â–µ–Ω–∏–µ, –¥–∞–≤–∞—è —É–∑–Ω–∞—Ç—å –∫–∞–∫–æ–π —Ç—ã —Å–µ–≥–æ–¥–Ω—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏.
![alt text](https://github.com/smalldevcloud/SupportOfTheDayBot/blob/main/Public/screenshot.jpg?raw=true)
##### –û–ø—Ä–æ–±–æ–≤–∞—Ç—å –±–æ—Ç–∞ –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—è –ø—Ä–æ–µ–∫—Ç –º–æ–∂–Ω–æ –∑–¥–µ—Å—å https://t.me/CafSupBott_bot
##### –ß—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç: 
 1. [Vapor](https://vapor.codes/) - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ Swift
 2. [Telegram Vapor Bot](https://github.com/nerzh/telegram-vapor-bot) - –æ–±—ë—Ä—Ç–∫–∞ –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –∞–ø–∏ —Ç–µ–ª–µ–≥—Ä–∞–º–∞ - https://github.com/nerzh/telegram-vapor-bot 
 3. [http.cat](https://http.cat/) - —Å–∞–π—Ç, –≤–æ–∑–≤—Ä–∞—â–∞—é —Å–º–µ—à–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏ —Å –∫–æ—Ç–∏–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ http-—Å—Ç–∞—Ç—É—Å–æ–≤
 4. [Google Compute Engine](https://console.cloud.google.com/) - —Ö–æ—Å—Ç–∏–Ω–≥, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –º–æ–∂–Ω–æ –∑–∞—Ö–æ—Å—Ç–∏—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –¥–ª—è –µ–≥–æ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã 
##### –ß—Ç–æ –µ—â—ë:
#####  –í—Å—ë —É–∂–µ –±—ã–ª–æ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω–æ –≤–æ—Ç –≤ [—ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ](https://biser.medium.com/how-to-create-a-telegram-bot-with-swift-using-vapor-d302d27b4844), –∑–∞ —á—Ç–æ –±–æ–ª—å—à–æ–µ —Å–ø–∞—Å–∏–±–æ [dimabiserov](https://github.com/dimabiserov)
#####  –Ø –ª–∏—à—å —á—É—Ç—å –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª (–∫–æ–µ-—á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Å 2021 –≥–æ–¥–∞) 
##### Mac OS 14.1(Sonoma), Xcode 15.0.1, Swift tools: 5.9

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vapor –Ω—É–∂–Ω–æ —Å–Ω–∞—á–∞–ª–∞ —ç—Ç–æ—Ç Vapor —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.
1.	–û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –Ω—É–∂–Ω–æ–π –ø–∞–ø–∫–µ –∏ –µ—Å–ª–∏ Vapor –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–º–∞–Ω–¥—ã:
```
brew install vapor
```
```
vapor new newtgbot
```
> newtgbot - —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∏—Ç –ø—Ä–æ–µ–∫—Ç
2.	Vapor —Å–≥–µ–Ω–µ—Ä–∏—Ç –ø—Ä–æ–µ–∫—Ç, –≤ –Ω—ë–º –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª Package.swift
3.	–í configure.swift –¥–æ–±–∞–≤–∏—Ç—å:
```swift
app.http.server.configuration.hostname = "0.0.0.0"
app.http.server.configuration.port = 80
```
4.	–í Package.swift –¥–æ–±–∞–≤–∏—Ç—å –≤ dependencies:
```swift
.package(url: "https://github.com/nerzh/telegram-vapor-bot", .upToNextMajor(from: "2.1.0")),
```
5.	–í Package.swift –¥–æ–±–∞–≤–∏—Ç—å targets/dependencies:
```swift
.product(name: "TelegramVaporBot", package: "telegram-vapor-bot"),
```

–í –∏—Ç–æ–≥–µ —É –º–µ–Ω—è –≤—ã—à–µ–ª —Ç–∞–∫–æ–π Package (—Ç–µ—Å—Ç—ã —è —É–¥–∞–ª–∏–ª –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª, –∏—Ö –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å)
```swift
// swift-tools-version:5.9
import PackageDescription

let package = Package(
    name: "SupportOfTheDayBot",
    platforms: [
       .macOS(.v12)
    ],
    dependencies: [
        // üíß A server-side Swift web framework.
        .package(url: "https://github.com/vapor/vapor.git", from: "4.83.1"),
        .package(url: "https://github.com/nerzh/telegram-vapor-bot", .upToNextMajor(from: "2.1.0")),
    ],
    targets: [
        .executableTarget(
            name: "App",
            dependencies: [
                .product(name: "Vapor", package: "vapor"),
                .product(name: "TelegramVaporBot", package: "telegram-vapor-bot"),
            ]
        )
    ]
)
```
6.	–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª DefaultBotHandlers.swift:
```swift
import Vapor
import TelegramVaporBot
import Foundation
#if canImport(FoundationNetworking)
import FoundationNetworking
#endif

final class DefaultBotHandlers {
    private static let startCommand = "/start"
    private static let supCommand = "–ö–∞–∫–æ–π —è —Å–µ–≥–æ–¥–Ω—è —Å–∞–ø–ø–æ—Ä—Ç?"
    private static var sups = [
        "–ó–∞–≥–∞–¥–æ—á–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–†–∞–∑—ä—è—Ä—ë–Ω–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–°–æ–Ω–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–ì–µ–Ω–∏–∞–ª—å–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–í–µ—Å—ë–ª—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–û–ø–∞—Å–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–ò–≥—Ä–∏–≤—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–ó–∞–¥—É–º—á–∏–≤—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–†–æ–º–∞–Ω—Ç–∏—á–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–ì—Ä—É—Å—Ç–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–ü—Ä–µ–∏—Å–ø–æ–ª–Ω–∏–≤—à–∏–π—Å—è —Å–∞–ø–ø–æ—Ä—Ç",
        "–£—Å—Ç–∞–≤—à–∏–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–ë–æ–ª—å—à–µ –Ω–µ —Å–∞–ø–ø–æ—Ä—Ç",
        "–ó–∞—Ä—è–∂–µ–Ω–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–ü—å—è–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–û–±–º–∞—Ç–µ—Ä—ë–Ω–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–°–∞–ø–ø–æ—Ä—Ç —Å—Ç–∞–≤—à–∏–π —á–µ–∫–æ–≤—ã–º –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º",
        "–°–∞–ø–ø–æ—Ä—Ç —Å–∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å –∫–∞—Å—Å–æ–π",
        "–°–∞–ø–ø–æ—Ä—Ç –∑–∞–±—ã–≤—à–∏–π –≥–¥–µ –≤–∑—è—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ ",
        "–°–∞–ø–ø–æ—Ä—Ç —Ö–ª–µ–±–Ω—É–≤—à–∏–π —Ç–µ—Å—Ç–æ–≤ –∞–∫—Ü–∏–π",
        "–†–∞—Å–ø–ª–∞–≤–ª–µ–Ω–Ω—ã–π —Å–∞–ø–ø–æ—Ä—Ç",
        "–°–∞–ø–ø–æ—Ä—Ç —Å—ä–µ–≤—à–∏–π –∫–ª–∏–µ–Ω—Ç–∞",
        "–°–∞–ø–ø–æ—Ä—Ç –®—Ä—ë–¥–∏–Ω–≥–µ—Ä–∞"
    ]
    private static var codes = [
        "100",
        "101",
        "102",
        "103",
        "200",
        "201",
        "202",
        "203",
        "204",
        "205",
        "206",
        "207",
        "300",
        "301",
        "302",
        "303",
        "304",
        "305",
        "306",
        "307",
        "400",
        "401",
        "402",
        "403",
        "404",
        "405",
        "406",
        "407",
        "408",
        "409",
        "410",
        "411",
        "412",
        "413",
        "414",
        "415",
        "416",
        "417",
        "418",
        "422",
        "423",
        "424",
        "425",
        "426",
        "449",
        "450",
        "500",
        "501",
        "502",
        "503",
        "504",
        "505",
        "506",
        "507",
        "509",
        "510"
    ]

    static func addHandlers(app: Vapor.Application, connection: TGConnectionPrtcl) async {
        await defaultBaseHandler(app: app, connection: connection)
        await commandStartHandler(app: app, connection: connection)
        
    }

    private static func commandStartHandler(app: Vapor.Application, connection: TGConnectionPrtcl) async {
        await connection.dispatcher.add(TGCommandHandler(commands: [startCommand]) { update, bot in

            let button: TGKeyboardButton = .init(text: "–ö–∞–∫–æ–π —è —Å–µ–≥–æ–¥–Ω—è —Å–∞–ø–ø–æ—Ä—Ç?")
            let rkm: TGReplyKeyboardMarkup = .init(keyboard: [[button]], resizeKeyboard: true)
            let reply: TGReplyMarkup = .replyKeyboardMarkup(rkm)

            try await update.message?.reply(text: "–¢—É—Ç —Ç—ã –º–æ–∂–µ—à—å —É–∑–Ω–∞—Ç—å, –∫–∞–∫–æ–π —Ç—ã —Å–µ–≥–æ–¥–Ω—è —Å–∞–ø–ø–æ—Ä—Ç. –ñ–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É", bot: bot, replyMarkup: reply)
        })
    }
    
    /// Handler for all updates
    private static func defaultBaseHandler(app: Vapor.Application, connection: TGConnectionPrtcl) async {
        await connection.dispatcher.add(TGBaseHandler({ update, bot in
            guard let message = update.message else { return }
            
            if message.text == supCommand {
                guard let message = update.message else { return }
                var img = Data()
                if let url = URL(string: "https://http.cat/\(codes[Int.random(in: 0..<codes.count)])") {
                    img = try Data(contentsOf: url)
                }
                let photoTG = TGInputFile(filename: "file", data: img)
                var params: TGSendPhotoParams = .init(chatId: .chat(message.chat.id), photo: .file(photoTG))
                params.caption = sups[Int.random(in: 0..<sups.count)]
                try await connection.bot.sendPhoto(params: params)
            } else {
//                –∑–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ä–µ–∫—Ü–∏—é –Ω–∞ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            }
        }))
    }
}
```
7.  –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª TGBotConnectionActor:
```swift
import Foundation
import TelegramVaporBot

actor TGBotConnection {
    private var _connection: TGConnectionPrtcl!

    var connection: TGConnectionPrtcl {
        self._connection
    }
    
    func setConnection(_ conn: TGConnectionPrtcl) {
        self._connection = conn
    }
}
```
8.  –°–Ω–æ–≤–∞ –≤ configure.swift –¥–æ–±–∞–≤–∏—Ç—å –≤ —Ñ—É–Ω–∫—Ü–∏—é —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ tgApi - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞:
```swift
let TGBOT: TGBotConnection = .init()
let tgApi: String = "YYYYYYYYYY:XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX"
/// set level of debug if you needed
TGBot.log.logLevel = app.logger.logLevel
let bot: TGBot = .init(app: app, botId: tgApi)
await TGBOT.setConnection(try await TGLongPollingConnection(bot: bot))
await DefaultBotHandlers.addHandlers(app: app, connection: TGBOT.connection)
try await TGBOT.connection.start()
```
9. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç —É —Å–µ–±—è. –£–∂–µ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –ø–æ–∫–∞ –∑–∞–ø—É—â–µ–Ω –ø—Ä–æ–µ–∫—Ç.

–î–∞–ª–µ–µ —á—É—Ç—å-—á—É—Ç—å —Ä–∞—Å—Å–∫–∞–∂—É –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –≤ Google Compute Engine, —á—Ç–æ–±—ã –±–æ—Ç –º–æ–≥ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ. 
–ü–æ—á–µ–º—É —è –≤—ã–±—Ä–∞–ª –µ–≥–æ? –ü–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –¥–∞—ë—Ç –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ –ø–æ—Ä–∞–±–æ—Ç–∞—Ç—å (2-3 –º–µ—Å—è—Ü–∞) –ø—Ä–µ–∂–¥–µ —á–µ–º –ø–ª–∞—Ç–∏—Ç—å –¥–µ–Ω—é–∂–∫—É.

10. –ü—Ä–æ–π—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ Google Compute Engine
11. –ó–∞–π—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è console.cloud.google.com
12. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –∫–æ–Ω—Å–æ–ª–∏ –≤—ã–±—Ä–∞—Ç—å –ø—É–Ω–∫—Ç Compute Engine –∏ –≤ –Ω—ë–º VM instances
13. –í –≤–µ—Ä—Ö–Ω–µ–π –ø–∞–Ω–µ–ª–∏ –∫–Ω–æ–ø–æ–∫ –Ω–∞–∂–∞—Ç—å Create Instance
14. –¢—É—Ç –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∏–º—è –±—É–¥—É—â–µ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –∏ –µ—ë —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –¥–ª—è –±–æ—Ç–∞ —è –≤—ã–±—Ä–∞–ª —Å–∞–º—É—é –¥–µ—à—ë–≤—É—é –∏ —Å–∞–º—É—é —Ö–∏–ª—É—é, —Å 1 —è–¥—Ä–æ–º, —Ç.–∫. –ª–æ–≥–∏–∫–∏ —É –¥–∞–Ω–Ω–æ–≥–æ –±–æ—Ç–∞ –∫–æ—Ç –Ω–∞–ø–ª–∞–∫–∞–ª
15. –ù–∞ –≤–∫–ª–∞–¥–∫–µ Firewall –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–æ—Å—Ç–∞–≤–∏—Ç—å –æ–±–µ –≥–∞–ª–æ—á–∫–∏ Allow HTTP traffic –∏ Allow HTTPs traffic (–±–µ–∑ —ç—Ç–æ–≥–æ –±—É–¥—É—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–ª—É—á–µ–Ω–∏–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç —é–∑–µ—Ä–æ–≤ –±–æ—Ç—É)
16. –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è, –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å
17. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –í–ú –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞, –æ–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ instances. –í—ã–¥–µ–ª–∏—Ç—å –µ—ë –≥–∞–ª–æ—á–∫–æ–π –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–Ω–æ–ø–∫–æ–π START –Ω–∞ –ø–∞–Ω–µ–ª–∏ –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
18. –¢–µ–ø–µ—Ä—å —É —ç—Ç–æ–π –í–ú –≤ –∫–æ–ª–æ–Ω–∫–µ Connect –Ω–∞–∂–∞—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫—É SSH, —á—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –∫ –Ω–µ–π –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
19. –í –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è –∫–æ–Ω—Å–æ–ª–∏ –Ω—É–∂–Ω–æ
```
sudo apt-get update
```
–ø–æ—Ç–æ–º
```
sudo apt-get install clang libicu-dev libatomic1 build-essential pkg-config
```
–ø–æ—Ç–æ–º
```
sudo apt-get install libssl-dev
```
20. –¢–µ–ø–µ—Ä—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—é–¥–∞ swift. –¢–∫ —É –º–µ–Ω—è –≤–º —Å–æ–∑–¥–∞–ª–∞—Å—å —Å debian –Ω–∞ –±–æ—Ä—Ç—É, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é (https://swift-arm.com/installSwift/)
```
curl -s https://packagecloud.io/install/repositories/swift-arm/release/script.deb.sh | sudo bash
```
–∑–∞—Ç–µ–º 
```
sudo apt install swiftlang
```
21. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Vapor Toolbox (https://docs.vapor.codes/install/linux/)
```
git clone https://github.com/vapor/toolbox.git
```
```
cd toolbox
```
```
git checkout master
```
```
make install
```
22. –ü–µ—Ä–µ–π—Ç–∏ –≤ –Ω—É–∂–Ω—É—é –¥–µ—Ä–∏–∫—Ç–æ—Ä–∏—é(–∞ –º–æ–∂–Ω–æ –ø—Ä—è–º–æ –∏ –∑–¥–µ—Å—å) –∏ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å –≥–∏—Ç—Ö–∞–±–∞ (–º–æ–π –æ—Ç–∫—Ä—ã—Ç—ã–π, –ø–æ—ç—Ç–æ–º—É –Ω–∏—á–µ–≥–æ –ø–æ–ø—Ä–æ—Å–∏—Ç)
```
git clone https://github.com/smalldevcloud/SupportOfTheDayBot.git
```
23. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º
```
cd SupportOfTheDayBot
```
24. –ò–∑ –ø–∞–ø–∫–∏ —Å –ø—Ä–æ–µ–∫—Ç–æ–º —Å–±–∏–ª–¥–∏—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
```
sudo swift build
```
```
sudo swift run &
```
–ê–º–ø–µ—Ä—Å–∞–Ω–¥ "&" –ø–æ—Å–ª–µ run –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ–µ–∫—Ç –ø—Ä–æ–¥–æ–ª–∂–∏–ª —Å–≤–æ—é —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –∑–∞–∫—Ä–æ–µ—Ç–µ –∫–æ–Ω—Å–æ–ª—å –∏–ª–∏ —Å–æ–µ–¥–µ–Ω–∏–µ –ø–æ ssh –ø—Ä–µ—Ä–≤—ë—Ç—Å—è, —Ç.–∫. —ç—Ç–æ —Ç–µ—Ä–º–∏–Ω–∞–ª, –∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤–µ–¥—É—Ç —Å–µ–±—è —Ç–∞–∫ - –ø—Ä–µ–∫—Ä–∞—â–∞—é—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É –µ—Å–ª–∏ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ –±–µ–∑ –∞–º–ø–µ—Ä—Å–∞–Ω–¥–∞.
---- –ï—Å–ª–∏ –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä—É–≥–∞—Ç—å—Å—è –Ω–∞ –∫–∞–∫–∏–µ-–Ω–∏–±—É–¥—å —Ñ–∞–π–ª—ã –≤—Ä–æ–¥–µ Package.resolved –∏–ª–∏ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º .lock, —Ç–æ —É–¥–∞–ª–∏—Ç—å –∏—Ö (–¥–æ–±–∞–≤–∏—Ç—å sudo, –µ—Å–ª–∏ access denied) –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—É—Å–∫ 

25. –ï—â—ë –∫—Ä–æ—Ö–∞ –∏–Ω—Ñ—ã - –∫–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–µ—Ä–∞, –µ—Å–ª–∏ –æ–Ω –±—ã–ª –∑–∞–ø—É—â–µ–Ω —Å –∞–º–ø–µ—Ä—Å–∞–Ω–¥–æ–º. –ü–µ—Ä–≤–æ–π –∫–æ–º–∞–Ω–¥–æ–π —É–∑–Ω–∞—ë–º PID –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å—Ç–∏–ª—Å—è –Ω–∞ —ç—Ç–æ–º –ø–æ—Ä—Ç—É. –í—Ç–æ—Ä–æ–π –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ—Ü–µ—Å—Å –∑–Ω–∞—è –Ω–æ–º–µ—Ä PID (–≤ –º–æ—ë–º –ø—Ä–∏–º–µ—Ä–µ —ç—Ç–æ 18806)
```
sudo ss -lptn 'sport = :80'
```
```
sudo kill -9 18806
```
